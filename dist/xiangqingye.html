<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>海尔商城</title>
    <link rel="stylesheet" href="css/xiangqingye.css">
</head>
<body>
    <!-- top-bar -->
    <div class="top-bar">
        <div class="location-wrap">
            <img src="img/localtion-i.jpg" alt="">
            <i><a href="#">青岛</a></i>
        </div>
        <ul class="bar-links">
            <li>
                嗨，欢迎来到海尔官方商城 请
                <a href="http://localhost:8888/login.html">登录</a>
                &nbsp;|&nbsp;
                <a href="http://localhost:8888/register.html">免费注册</a>
            </li>
            <li>
                <a href="#">我的海尔</a>
                <li class="links-space"></li>
            </li>
            <li>
                <a href="#">顺逛微店</a>
                <li class="links-space"></li>
            </li>
            <li>
                <a href="#">互动社区</a>
                <li class="links-space"></li>
            </li>
            <li>
                <a href="#">知识堂</a>
                <li class="links-space"></li>
            </li>
            <li>
                <a href="#">帮助中心</a>
                <li class="links-space"></li>
            </li>
            <li>
                <a href="#">企业购</a>
                <li class="links-space"></li>
            </li>
            <li>
                <a href="#">海尔官网</a>
                <li class="links-space"></li>
            </li>
            <li>
                <a href="#">好品海智</a>
                <li class="links-space"></li>
            </li>
            <li>
                <a href="#">商户平台</a>
                <li class="links-space"></li>
            </li>
            <li>
                <a href="#">顺逛社区</a>
            </li>
        </ul>
    </div>

    <!-- header -->
    <div class="head-wrap">
        <div class="logo-search">
            <img src="http://cdn09.ehaier.com/v5/images/logo.png" alt="">
            <img src="http://cdn09.ehaier.com/v5/images/n-slogan.png" alt="">
            <div class="all-search">
                <div class="search-form">
                    <input type="text" class="txt" autocomplete="off" maxlength="50" name="k" placeholder="【今日值得买】">
                    <button type="submit" class="btn-search">
                    </button>
                </div>
                <div class="hot-words">
                    <a href="http://www.ehaier.com/category/2729.html?ebi=ref-ixv5-1-hotkey-0" target="_blank" rel="noopener noreferrer">空调</a>
                    <a href="http://search.ehaier.com/_ceyabmpybudmbncq-se.html?ebi=ref-ixv5-1-hotkey-1" target="_blank" rel="noopener noreferrer">限时秒杀</a>
                    <a href="http://www.ehaier.com/l/2723.html?ebi=ref-ixv5-1-hotkey-2" target="_blank" rel="noopener noreferrer">冰箱</a>
                    <a href="http://www.ehaier.com/l/2725-2727.html?ebi=ref-ixv5-1-hotkey-3" target="_blank" rel="noopener noreferrer">滚筒洗衣机</a>
                    <a href="http://search.ehaier.com/_bqtxbozkbgsu-se.html?ebi=ref-ixv5-1-hotkey-4" target="_blank" rel="noopener noreferrer">热水器</a>
                    <a href="http://www.ehaier.com/l/2726.html?ebi=ref-ixv5-1-hotkey-5" target="_blank" rel="noopener noreferrer">冷柜</a>
                    <a href="http://http://search.ehaier.com/_beyybozkbnck-se.html?ebi=ref-ixv5-1-hotkey-6" target="_blank" rel="noopener noreferrer">净水机</a>
                </div>
            </div>
            <div class="min-car">
                <span class="car-i"></span>
                <a href="#">我的购物车</a>
                <i class="shop-num">0</i>
            </div>
        </div>
    </div>


    <!-- 导航 -->
    <div class="nav-bar">               
        <ul class="ul-nav">
            <li><a href="#">首页</a></li>
            <li><a href="http://www.ehaier.com/subject/201805zxhw.html">有好货</a></li>
            <li><a href="http://xin.ehaier.com/">抢先购</a></li>
            <li><a href="http://www.ehaier.com/activity/coupon/couponCenter.html">领券中心</a></li>
            <li><a href="http://vip.ehaier.com/">会员</a></li>
            <li><a href="http://bbs.haier.com/forum/ehaier/">社区</a></li>
            <li><a href="http://http://store.ehaier.com/dbstore/flagship.html">线下体验店</a></li>
            <li><a href="http://www.ehaier.com/subject/designermegagame.html">3D云设计</a></li>
        </ul>
    </div>
    

    <!-- 放大镜 -->
    <div class="bigwrapper">
        <!-- <div class="left"> -->
            <div id="small">
                <!--贴的膜-->
                <div id="film"></div>	
                <div id="frame">
                    <!-- 一个框 -->
                </div>
                <img src="" alt="" id="img1">
            </div>
            <div class="title"></div>
            <div class="price"></div>
        <!-- </div> -->

        <div id="big">
            <img src="" alt="" id="img2">
        </div>
    </div>
   
    

    <!-- footer -->
    <div class="footer-mod">
        <div class="layout-mod">
            <div class="all-promise">
                <ul class="ul-all-promise">
                    <li class="pro-item">  
                        <a href="">
                            <img src="img/footer-i2.jpg" alt="">
                            <i class="pro-top">24小时限时达</i>
                            <span class="pro-inform">全国1300个县支持24小时内送货上门</span>
                        </a>
                    </li>
                    <li class="pro-item">  
                        <a href="">
                            <img src="img/footer-i3.jpg" alt="">
                            <i class="pro-top">按时送达 超时免单</i>
                            <span class="pro-inform">全国1081个县支持按约送达 超时免单</span>
                        </a>
                    </li>
                    <li class="pro-item">  
                        <a href="">
                            <img src="img/footer-i4.jpg" alt="">
                            <i class="pro-top">15天包退换</i>
                            <span class="pro-inform">产品售出15日内可免费退换货</span>
                        </a>
                    </li>
                    <li class="pro-item">  
                        <a href="">
                            <img src="img/footer-i1.jpg" alt="">
                            <i class="pro-top">货到付款</i>
                            <span class="pro-inform">全国2076个区县支持货到付款</span>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="service-wrap">
                <div class="ser-hp">
                    <div class="ser-shopping">
                        <li class="ser-top">购物指南</li>
                        <li><a href="#" class="wrap-hf">注册登录</a></li>
                        <li><a href="#" class="wrap-hf">密码相关</a></li>
                        <li><a href="#" class="wrap-hf">购物流程</a></li>
                        <li><a href="#" class="wrap-hf">交易条款</a></li>
                        <li><a href="#" class="wrap-hf">品牌大全</a></li>

                    </div>
                    <div class="ser-shopping">
                        <li class="ser-top">支付方式</li>
                        <li><a href="#" class="wrap-hf">货到付款</a></li>
                        <li><a href="#" class="wrap-hf">网银支付</a></li>
                        <li><a href="#" class="wrap-hf">发票说明</a></li>
                        <li><a href="#" class="wrap-hf">电子发票</a></li>
                    </div>
                    <div class="ser-shopping">
                        <li class="ser-top">物流配送</li>
                        <li><a href="#" class="wrap-hf">日日顺配送</a></li>
                        <li><a href="#" class="wrap-hf">配送服务查询</a></li>
                        <li><a href="#" class="wrap-hf">全场面运费</a></li>
                        <li><a href="#" class="wrap-hf">送装同步</a></li>
                        <li><a href="#" class="wrap-hf">送货入户 违约赔付</a></li>
                    </div>
                    <div class="ser-shopping">
                        <li class="ser-top">售后服务</li>
                        <li><a href="#" class="wrap-hf">售后服务政策</a></li>
                        <li><a href="#" class="wrap-hf">密码相关退换货说明</a></li>
                        <li><a href="#" class="wrap-hf">安装/维修</a></li>
                        <li><a href="#" class="wrap-hf">服务时效承诺</a></li>
                        <li><a href="#" class="wrap-hf">咨询投诉</a></li>
                    </div>
                    <div class="ser-shopping">
                        <li class="ser-top">特色服务</li>
                        <li><a href="#" class="wrap-hf">价格保护</a></li>
                        <li><a href="#" class="wrap-hf">延迟发货赔付</a></li>
                        <li><a href="#" class="wrap-hf">按约送达 超时免单</a></li>
                        <li><a href="#" class="wrap-hf">24小时限时达</a></li>
                    </div>
                </div>
                <div class="ser-cont">
                        <a href="#" class="ft-btn">
                            <img src="img/connect-i.jpg" alt="">
                            <p>联系客服</p>
                        </a>
                    </div>
            </div>
        </div>
    </div>

    <div class="copyright-mod">
                <div class="layout-grid">
                    <div class="a-links">
                        <a href="http://www.haier.com/cn/about_haier/">关于海尔</a>
                        <span class="links-ver"></span>
                        <a href="http://www.ehaier.com/helpcenter.php?id=35" target="_blank">售后服务</a>
                        <span class="links-ver"></span>
                        <a href="#" class="a-openKF">投诉建议</a>
                        <span class="links-ver"></span>
                        <a href="http://www.ehaier.com/links/friendssite.html" target="_blank">友情链接</a>
                        <span class="links-ver"></span>
                        <a href="http://www.ehaier.com/helpcenter.php?id=50" target="_blank">联系我们</a>
                    </div>
                    <p class="">网站备案/许可证号：
                        <a rel="nofollow" ref="ixv5-9-9ft-5-0" href="http://www.miitbeian.gov.cn" target="_blank">鲁ICP备09096283号</a>
                        <a rel="nofollow" ref="ixv5-9-9ft-5-0" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=37021202000654" target="_blank">
                        <!-- <img src="http://cdn09.ehaier.com/sg2019/new/trunk/images/ghs.png" style="width:16px; vertical-align:text-bottom; margin:0 5px 0;"> -->
                        鲁公网安备37021202000654号
                        </a>
                    </p>
                    <p class="">Copyright&copy;2000-2018 海尔集团电子商务有限公司 All Rights Reserved</p>
                    <p class="p-all-honor">
                        <a rel="nofollow" ref="ixv5-9-9ft-5-0" href="http://www.miitbeian.gov.cn" target="_blank">
                            <img width="108" height="40" alt="" src="http://cdn02.ehaier.com/image/50c6c153a103a74d19000040.png">
                        </a>
                        <img width="122" height="40" alt="" src="http://cdn02.ehaier.com/image/50c6c153a103a74d19000041.png">
                        <a rel="nofollow" ref="ixv5-9-9ft-5-2" href="http://cdn09.ehaier.com/v5/images/yingyezhizhao.png" target="_blank">
                            <img width="141" height="40" alt="" src="http://cdn02.ehaier.com/image/50c6c153a103a74d19000044.png">
                        </a>
                        <a rel="nofollow" ref="ixv5-9-9ft-5-6" href="http://si.trustutn.org/info?sn=933161205025927562850&amp;certType=1?ebi=ref-ixv5-9-9ft-5-4" target="_blank">
                            <img width="107" height="40" alt="品牌官网" src="http://cdn09.ehaier.com/sg2019/new/trunk/images/brand_bottom_large.jpg">
                        </a>
                        <a rel="nofollow" ref="ixv5-9-9ft-5-7" href="http://www.itrust.org.cn/home/index/wx_certifi/wm/WX2017011201" target="_blank">
                            <img width="109" height="40" alt="海尔商城-官网认证结果及安装电子标识" src="http://cdn09.ehaier.com/v5/images/rz.jpg">
                        </a>
                    </p>
                </div>
    </div>


    <!-- 置顶 -->
    <div class="all-tipbar">
        <span class="a-tip-servicer"></span>
        <a href="#" class="a-backtop"></a>
    </div>





    <!-- JS -->
    <script src="js/common.js"></script>
    <script src="js/jquery-3.3.1.js"></script>
    <script src="js/jquery.cookie.js"></script> 
    <script>

        function WaterFull() { };
        WaterFull.prototype.init = function () {
            this.ul = document.querySelector("#wrap ul");
            this.page_num = 0;
            this.rendering = false;
            this.loadJson()
                .then(function (data) {
                    // console.log(this.json)
                    // console.log(data)
                    this.renderPage();
                }.bind(this));
            // this.handleEvent();
        }
        WaterFull.prototype.loadJson = function () {
            return new Promise(function (success) {
                var xhr = new XMLHttpRequest();
                xhr.open("GET", "data.json");
                xhr.send(null);
                xhr.onload = function () {
                    if(xhr.status){
                        this.json = JSON.parse(xhr.response);
                        success(xhr.response);
                    }
                }.bind(this);
            }.bind(this));
        }

    
            WaterFull.prototype.renderPage = function () {
            var oImg1 = document.getElementById("img1")
            var oImg2 = document.getElementById("img2")
            var oTitle=document.querySelector(".title")
            var oPrice=document.querySelector(".price")                       
            var res ="";
            if(res = cookie("goodsId")){

                var arr = this.json;
                console.log(res)
            oImg1.src= arr[res].photo;
            oImg2.src= arr[res].photo;
            oTitle.src=arr[res].transtion;
            oPrice.src=arr[res].price;
            oImg1.innerHTML=arr[res].photo;
            oImg2.innerHTML=arr[res].photo;
            oTitle.innerHTML = arr[res].transtion;
            oPrice.innerHTML = arr[res].price;
            }
            }
            var waterFull = new WaterFull();
        waterFull.init();
    </script>  

<script>
	var oSmall=document.getElementById("small");
	var oBig=document.getElementById("big");
	var oFrame=document.getElementById("frame");
	var oBigImg=oBig.children[0];
	var oSmallImg=oSmall.children[2];

	oSmall.onmouseenter = function(){
		// 小框和大图都显示出来;
		oBig.style.display = "block";
		oFrame.style.display = "block";
		oSmallImg.style.opcity=0.3;
	}
	oSmall.onmouseleave = function(){
		// 小框和大图都隐藏;
		oBig.style.display = "none";
		oFrame.style.display = "none";
		oSmallImg.style.opacity=1;
	}
	oSmall.onmousemove = function(event){
		// 1. 获取定位的x,y 值;
		var e = event || window.event;
		var offsetX = e.offsetX;
		var offsetY = e.offsetY;
		// 2. 给元素设置的left 值 和top值;
		var nLeft = offsetX  - 50;
		var nTop = offsetY - 50;
		// 边界检测;  最小值 ; 最大值;
		
		// 最小值;
		nLeft = nLeft < 0 ? 0 : nLeft;
		nTop = nTop < 0 ? 0 : nTop;

		// 最大值;
		var maxLeft = oSmall.offsetWidth - oFrame.offsetWidth;
		var maxTop = oSmall.offsetHeight - oFrame.offsetHeight;
		
		nLeft = nLeft > maxLeft ? maxLeft : nLeft;
		nTop = nTop > maxTop ? maxTop : nTop;

		oFrame.style.left = nLeft +"px";
		oFrame.style.top = nTop +  "px";

		// 边界检测;
		
		// 比例 已知 是4;
		// 比例分成两部分;
		var propX = oBig.offsetWidth / oFrame.offsetWidth;
		var propY = oBig.offsetHeight / oFrame.offsetHeight;

		// console.log(propX,propY);
		
		oBigImg.style.left = -nLeft * propX + "px";
		oBigImg.style.top = -nTop * propY + "px";

		oFrame.style.backgroundPosition=`${-nLeft}px ${-nTop}px`
	}
</script>
</body>
</html>